\documentclass[a4paper]{article}

% Importazioni
\usepackage{import}
\input{./preamble.sty}

\begin{document}

% Titolo
\input{title.tex}

\tableofcontents
\pagebreak

% =======================
\section{Introduzione}
% =======================

\subsection{Prefazione}

Il presente documento definisce in modo esaustivo i requisiti, l'architettura e le specifiche di progettazione del software \textit{TrackTune},
una piattaforma applicativa dedicata alla gestione, condivisione e analisi 
collaborativa di contenuti musicali.\\[2ex] 

La documentazione è rivolta a sviluppatori, tester, amministratori di sistema e a 
tutti gli stakeholder coinvolti nella realizzazione, manutenzione e gestione del 
progetto.

\subsection{Panoramica}

La piattaforma si rivolge a musicisti, compositori, insegnanti, studenti e appassionati
di musica, offrendo un ambiente digitale comodo per l’archiviazione, la collaborazione 
e l’accesso a materiale musicale di vario genere, tra cui spartiti, testi, accordi, 
file audio/video e link esterni (ad esempio YouTube).

Essa si propone non solo come archivio digitale, 
ma anche come spazio per l’approfondimento culturale, 
lo scambio di interpretazioni e feedback tra utenti, favorendo la condivisione 
di esperienze musicali, commenti critici e annotazioni esecutive su brani e 
contenuti attinenti alla musica.

% ==============================
\section{Analisi dei requisiti}
% ==============================

\subsection{Descrizione del sistema}

Si vuole progettare un sistema software per gestire la collezione e la condivisione 
di spartiti, testi, accordi, MIDI, MP3, video, link e molto altro, relativamente a brani 
musicali di diversa tipologia/genere.\\[2ex]

Gli utenti, previa autorizzazione dell'amministratore, devono poter caricare, 
scaricare, commentare e interagire con i vari contenuti. Per ogni risorsa il sistema deve
consentire di specificare:
\begin{itemize}
    \item autori
    \item genere/generi
    \item strumenti musicali utilizzati
\end{itemize}

Inoltre, per le risorse multimediali (audio, video, ecc.) il sistema deve
consentire di specificare il luogo e la data di registrazione.

Ogni utente può aggiungere note di testo libero su segmenti specifici di esecuzione (MP3, MP4 o video YouTube).  
Un segmento è definito dal momento di inizio e fine, e per ciascuno è possibile includere dettagli come assoli, esecutori, strumenti,
ritmi e altre caratteristiche. I commenti possono essere arricchiti con ulteriori 
risposte, consentendo una profondità illimitata di discussioni relativamente a quel 
contenuto.\\[2ex]

Un brano può essere inserito anche da un autore o un interprete. Deve essere possibile 
quindi distinguere il proprio ruolo all’interno del brano e, nel caso di interpreti, 
gli strumenti utilizzati. I commenti sulle modalità esecutive devono apparire in maniera 
rilevante rispetto a quelli di altri utenti.\\[2ex]

I video YouTube possono essere visualizzati direttamente nel software o nel browser, 
ma tutti i commenti relativi sono gestiti dal sistema.\\[2ex]

Gli utenti possono aggiungere commenti su spartiti, testi e accordi, 
relativi alle modalità esecutive (come strumenti, ritmo, intensità, ecc.), sia su 
specifiche parti del brano che sull'intero brano.\\[2ex]

Un utente può richiedere la registrazione alla piattaforma tramite un form, che 
l'amministratore valuterà e risponderà a seconda dell’esito.  
L'amministratore gestisce gli utenti, ha il compito di rimuovere coloro che pubblicano contenuti non pertinenti 
e di moderare i commenti. Inoltre, valuta le richieste di registrazione, il cui esito verrà comunicato 
all’utente interessato.\\[2ex]

Il sistema deve permettere la ricerca delle risorse tramite i seguenti filtri:
\begin{itemize}
    \item genere
    \item titolo del brano
    \item autore/i
\end{itemize}

Ogni risorsa per cui un utente ha lasciato un commento deve essere direttamente accessibile.

Gli strumenti musicali, i generi, i titoli dei brani e i nomi degli autori vanno gestiti attraverso dizionari aggiornabili, da usare anche per le opportune ricerche.

\subsection{Requisiti funzionali}

\subsubsection{Gestione degli utenti}
\begin{itemize}
    \item Registrazione tramite form dedicato;
    \item Valutazione da parte dell’amministratore delle richieste di registrazione e relativa comunicazione dell’esito;
    \item Profilazione (distinzione tra utente/amministratore);
    \item Autorizzazione al caricamento dei file per utente;
\end{itemize}

\subsubsection{Gestione dei contenuti}
\begin{itemize}
    \item Aggiunta, modifica e rimozione di contenuti multimediali
    \begin{itemize}
        \item La rimozione può essere eseguita solo dall’amministratore o dall’utente che ha caricato il contenuto
    \end{itemize}
    \item Visualizzazione delle risorse tramite software di terze parti o tramite l’applicativo stesso.
    \item Moderazione degli utenti
    \begin{itemize}
        \item L’amministratore può rimuovere utenti;
        \item L’amministratore può rimuovere commenti/risorse inappropriate.
    \end{itemize}
    \item Gestione dei dizionari aggiornabili (solo amministatore) relativi a:
    \begin{itemize}
        \item Autori;
        \item Generi;
        \item Strumenti musicali;
    \end{itemize}
\end{itemize}

\subsubsection{Gestione dei commenti}
\begin{itemize}
    \item Possibilità di commentare brani;
    \item Possibilità di rispondere ai commenti;
    \item Possibilità di commentare su specifici segmenti di esecuzione;
    \item Visualizzazione differenziata dei commenti per autori/esecutori del brano.
\end{itemize}

\subsection{Casi d'uso}
L’applicazione sarà disponibile esclusivamente agli utenti abilitati dall’amministratore, il quale è anch’esso un utente ma con privilegi di amministrazione sui comportamenti del sistema. L’unica operazione che può effettuare un utente non registrato è la richiesta di creazione di un account.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{./figures/use_cases}
    \caption{Use Cases}
    \label{fig:use_cases}
\end{figure}
\newpage
\subsubsection{Utente non loggato}
L'utente non autenticato può effettuare esclusivamente non operazioni:
    \begin{enumerate}
        \item Richiedere un account ad un amministratore
        \item Effettuare l'accesso tramite un form di autenticazione
    \end{enumerate}

\begin{table}[H]
\centering
\renewcommand{\arraystretch}{1.5}
\begin{tabular}{|>{\bfseries}l|p{10cm}|}
\hline
\multicolumn{2}{|c|}{\textbf{Caso d'uso: Login}} \\
\hline
\textbf{Id} & UC$0$ \\ \hline
\textbf{Attori} & Utente non loggato \\ \hline
\textbf{Precondizioni} & L’utente non è autenticato sulla piattaforma. \\ \hline
\textbf{Sequenza degli eventi} &
\begin{enumerate}
    \item L’utente compila i campi per effettuare l'autenticazione
    \item Il sistema verifica i dati e gestisce le autorizzazioni dell'utente
\end{enumerate}\\ \hline
\textbf{Post condizioni} & Utente autenticato e correttamente gestito \\ \hline
\end{tabular}
\caption{Descrizione caso d'uso \textit{Login}}
\label{tab:login-usecase}
\end{table}


\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Richiesta creazione account}} \\
        \hline
        \textbf{Id} & UC$1$ \\ \hline
        \textbf{Attori} & Utente non loggato \\ \hline
        \textbf{Precondizioni} & L’utente non è autenticato sulla piattaforma. \\
        & L’utente accede alla sezione di registrazione. \\ \hline % Added a new line and an empty cell for proper alignment
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item Vengono compilati i dati relativi alla richiesta
            \item La richiesta viene inviata
            \item Il sistema registra la richiesta e la mette in stato di approvazione
            \item L'account viene salvato come account provvisorio
            \item Il sistema notifica l’amministratore della nuova richiesta
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa } & Utente già esistente che comporta un messaggio di errore \\ \hline
        \textbf{Post condizioni} & La richiesta di creazione dell'account deve essere approvata da un amministratore \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Richiesta creazione account}}
    \label{tab:request_account-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\textwidth]{./figures/account_request_sd}
    \caption{Sequence diagram del caso d'uso \textit{Richiesta creazione account}}
    \label{fig:sd_request_account}
\end{figure}

\subsubsection{Utente loggato}
\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Ricerca risorsa}} \\
        \hline
        \textbf{Id} & UC2 \\ \hline
        \textbf{Attori} & Utente loggato \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item Il sistema invia i criteri di filtro disponibili
            \item L'utente decide il filtro di ricerca
            \item L'utente inserisce una parola chiave per ricercare una risorsa
            \item Gli vengono restituite le risorse data quella ricerca
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & Errore nella ricerca: messaggio di errore \\ \hline
        \textbf{Post condizioni} & L'utente ha visualizzato la risorsa correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Ricerca risorsa}}
    \label{tab:search_resource-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/ricerca_risorsa_sd}
    \caption{Sequence diagram del caso d'uso \textit{Ricerca risorsa}}
    \label{fig:sd_ricerca_risorsa}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Riproduci/Visualizza risorsa}} \\
        \hline
        \textbf{Id} & UC3 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} &
        Utente autenticato \\& L'utente ha effettuato una ricerca o ne può selezionare una
        \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente seleziona una risorsa dal risultato delle ricerca
            \item Il sistema riconosce il tipo di risorsa
            \item Se multimediale, lo riproduce
            \item Se testuale, lo visualizza
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & Errore nella riproduzione: messaggio di errore \\ \hline
        \textbf{Post condizioni} & L'utente ha visualizzato la risorsa \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Riproduci/Visualizza risorsa}}
    \label{tab:play_view_resource-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/visualizza_risorsa_sd}
    \caption{Sequence diagram del caso d'uso \textit{Riproduci/Visualizza risorsa}}
    \label{fig:sd_visualizza_risorsa}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Scarica risorsa}} \\
        \hline
        \textbf{Id} & UC4 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\
        & L'utente ha effettuato una ricerca o ne può selezionare una \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente seleziona una risorsa dal risultato delle ricerca
            \item L'utente richiede il download della risorsa
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & Errore nel download: messaggio di errore \\ \hline
        \textbf{Post condizioni} & L'utente ha scaricato la risorsa correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Scarica risorsa}}
    \label{tab:download_resource-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/scarica_sd}
    \caption{Sequence diagram del caso d'uso \textit{Scarica risorsa}}
    \label{fig:sd_download_resource}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Commenta risorse}} \\
        \hline
        \textbf{Id} & UC5 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\
        & L'utente può visualizzare una risorsa \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente seleziona una risorsa dal risultato delle ricerca
            \item L'utente può scrivere un commento
            \item Il commento viene salvato dal sistema
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & L'utente può rispondere ad un commento \\ \hline
        \textbf{Post condizioni} & L'utente ha commentato la risorsa correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Commenta risorse}}
    \label{tab:comment_resource-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/commenta_risorsa_sd}
    \caption{Sequence diagram del caso d'uso \textit{Commenta risorse}}
    \label{fig:sd_commenta_risorsa}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Aggiungi note a segmenti}} \\
        \hline
        \textbf{Id} & UC6 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\
        & L'utente ha ricercato/può visualizzare una risorsa \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente seleziona un intervallo di tempo per inserire una nota/commento
            \item Scrive la /commento desiderata
            \item Invia la nota/commento al sistema
            \item Il sistema registra la nota/commento
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & L'utente ha scritto una nota/commento su un segmento correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Aggiungi note a segmenti}}
    \label{tab:add_notes_to_segments-usecase}
\end{table}


\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Carica Risorse}} \\
        \hline
        \textbf{Id} & UC7 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente visualizza la schermata di upload dei file
            \item Seleziona la risorsa da caricare
            \item Inserisce i dati (file + metadati obbligatori)
            \item Invia i dati al sistema
            \item Il sistema li memorizza
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & Errore di sistema: messaggio di errore \\ \hline
        \textbf{Sequenza alternativa 2} & Errore nell'inserimento dei dati: messaggio di errore \\ \hline
        \textbf{Post condizioni} & L'utente ha caricato la risorsa correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Carica Risorse}}
    \label{tab:upload_resources-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/carica_risorsa_sd}
    \caption{Sequence diagram del caso d'uso \textit{Carica Risorse}}
    \label{fig:sd_carica_risorsa}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Cancellazione commenti delle proprie risorse}} \\
        \hline
        \textbf{Id} & UC8 \\ \hline
        \textbf{Attori} & User Logged \\ \hline
        \textbf{Precondizioni} & Utente autenticato e autorizzato \\
        & L'utente sta visualizzando una propria risorsa caricata \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente desidera eliminare un qualsiasi commento della risorsa
            \item Elimina il commento
            \item Il sistema controlla che abbia i permessi necessari
            \item In caso positivo effettua la rimozione
            \item Vengono rimossi tutte le risposte a quel commento
        \end{enumerate}\\ \hline
        \textbf{Sequenza alternativa 1} & Errore Autorizzazioni: messaggio di errore \\ \hline
        \textbf{Post condizioni} & L'utente ha eliminato il commento correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Cancellazione commenti delle proprie risorse}}
    \label{tab:delete_comments_own_resources-usecase}
\end{table}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Modifica dei metadati delle risorse}} \\
        \hline
        \textbf{Id} & UC9 \\ \hline
        \textbf{Attori} & User Logged Authorized \\ \hline
        \textbf{Precondizioni} & Utente autenticato \\
        & L'utente è il proprietario di quella risorsa \\
        & L'utente sta visualizzando i dati di una risorsa \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'utente desidera modificare un qualsiasi metadato della risorsa
            \item Modifica i metadati
            \item Invia le modifiche al sistema
            \item Il sistema effettua la modifica
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & L'utente ha modificato correttamente i metadati di una risorsa \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Modifica dei metadati delle risorse}}
    \label{tab:modify_metadata_uc9-usecase}
\end{table}

    \subsubsection{Amministratore}
\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Valuta registrazione utente}} \\
        \hline
        \textbf{Id} & UC10 \\ \hline
        \textbf{Attori} & Administrator \\ \hline
        \textbf{Precondizioni} & L'amministratore accede alla sezione di gestione delle registrazioni utente in attesa di valutazione \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'amministratore visualizza i dettagli
            \item L'amministratore approva/rifiuta la richiesta
            \item Il sistema elimina la richiesta e in caso di approvazione crea l'account
            \item Il sistema notifica all'utente l'esito
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & L'utente è registrato e abilitato all'accesso al sistema (se approvato) o la sua richiesta di registrazione viene rifiutata \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Valuta registrazione utente}}
    \label{tab:evaluate_user_registration-usecase}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/valuta_richieste}
    \caption{Sequence diagram del caso d'uso \textit{Valuta registrazione utente}}
    \label{fig:sd_valuta_richiesta}
\end{figure}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Eliminazione utente}} \\
        \hline
        \textbf{Id} & UC11 \\ \hline
        \textbf{Attori} & Administrator \\ \hline
        \textbf{Precondizioni} & L'amministratore accede alla sezione di gestione degli utenti \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'amministratore seleziona l'utente che desidera eliminare
            \item L'amministratore elimina l'utente
            \item Rimuove l'utente
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & L'utente è stato cancellato correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Eliminazione utente}}
    \label{tab:delete_user-usecase}
\end{table}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Elimina commenti e risorse di un utente}} \\
        \hline
        \textbf{Id} & UC12 \\ \hline
        \textbf{Attori} & Administrator \\ \hline
        \textbf{Precondizioni} & Caso d'uso \textit{Eliminazine Utente} (\autoref{tab:delete_user-usecase}) \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'amministratore comunica al server un utente
            \item Le risorse e commenti di questo utente vengono eliminate
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & Le risorse/commenti sono stati cancellati correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Elimina commenti e risorse di un utente}}
    \label{tab:delete_user_comments_resources-usecase}
\end{table}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{|>{\bfseries}l|p{10cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{Caso d'uso: Elimina contenuti/commenti}} \\
        \hline
        \textbf{Id} & UC13 \\ \hline
        \textbf{Attori} & Administrator \\ \hline
        \textbf{Precondizioni} & Visualizzazione di una risorsa/commento \\ \hline
        \textbf{Sequenza degli eventi} &
        \begin{enumerate}
            \item L'amministratore visualizza una risorsa
            \item L'amministratore decide di eliminare la risorsa/commento
            \item Invia la richiesta al sistema
            \item Il sistema elimina la risorsa/commento
        \end{enumerate}\\ \hline
        \textbf{Post condizioni} & La risorsa/commento è stata eliminata correttamente \\ \hline
    \end{tabular}
    \caption{Descrizione caso d'uso \textit{Elimina contenuti/commenti}}
    \label{tab:delete_content_comments-usecase}
\end{table}


\subsection{Glossario dei termini}

\begin{table}[H]
    \centering
    \renewcommand{\arraystretch}{1.5}
    % Modifica qui:
    % Ad esempio, la prima colonna l'ho fatta p{0.25\textwidth}
    % e la seconda p{0.65\textwidth}. La somma (0.25+0.65=0.90) lascia spazio per i bordi e tabcolsep.
    \begin{tabular}{|>{\bfseries}p{0.28\textwidth}|p{0.62\textwidth}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{GLOSSARIO DEI TERMINI}} \\
        \hline
        \textbf{TERMINE} & \textbf{DEFINIZIONE} \\
        \hline
        Contenuto musicale / Risorsa multimediale & Qualsiasi tipo di file audio, video o immagine caricato e reso disponibile sulla piattaforma. Può includere brani musicali, podcast, lezioni, video, ecc. \\
        \hline
        Autore / Esecutore / Interprete di un brano & L'individuo o il gruppo che ha contribuito in modo significativo alla creazione, composizione, esecuzione o interpretazione originale di un'opera musicale. \\
        \hline
        Segmento di un brano & Un sottoinsieme specifico di un contenuto multimediale (es. un brano musicale o un video), definito da un intervallo di tempo di inizio e fine, permettendo di focalizzare l'attenzione su una parte specifica. \\
        \hline
        Traccia & Una traccia può contenere più risorse relative a quel contesto, ad esempio il relativo file PDF dello spartito + un'eventuale risorsa multimediale (mp4/mp3) \\
        \hline
        Brano & Un'opera musicale originale completa e autonoma, che può essere parte di un album o una singola traccia, caratterizzata da una composizione unica. \\
        \hline
        Metadato & Un insieme di dati che descrivono e forniscono informazioni su altri dati (una risorsa). Per un brano, i metadati possono includere titolo, autore, genere, durata, data di pubblicazione, ecc. \\
        \hline
        Utente autenticato / Loggato & Un utente che ha completato con successo il processo di login fornendo credenziali valide ed è riconosciuto dal sistema, avendo accesso a funzionalità riservate. \\
        \hline
        Amministratore & Un utente con privilegi speciali all'interno della piattaforma, in grado di gestire utenti, contenuti, approvare richieste e monitorare le operazioni del sistema. \\
        \hline
        Richiesta di creazione account & La procedura iniziata da un utente non autenticato per ottenere un nuovo account sulla piattaforma, soggetta ad approvazione da parte di un amministratore. \\
        \hline
        Commento & Un testo o una nota aggiunta da un utente autenticato a una risorsa (o a un altro commento) per esprimere un'opinione, fornire feedback o interagire con altri utenti. \\
        \hline
        Nota a segmento & Un tipo specifico di commento o annotazione testuale associata a un intervallo di tempo preciso all'interno di una risorsa multimediale, permettendo di evidenziare o commentare una parte specifica del contenuto. \\
        \hline
    \end{tabular}
    \caption{Glossario dei Termini}
    \label{tab:glossary}
\end{table}

\subsection{Activity Diagrams}
Questa sezione illustra i principali flussi di lavoro del sistema attraverso gli activity diagrams.

\begin{figure}[H]
    \centering
    \includegraphics{./figures/autenticazione_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Login}}
    \label{fig:ac_login}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/eliminazione_utenti_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Elimina utenti}}
    \label{fig:ac_eliminazione_utenti}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/account_request_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Richiesta creazione account}}
    \label{fig:ac_account_request}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/segmenti_commenti_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Aggiungi note a segmenti}}
    \label{fig:ac_note_segmenti}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/aggiungi_risorsa_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Carica risorse}}
    \label{fig:ac_valuta_registrazione_utenti}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{./figures/valutazione_richiesta_ac}
    \caption{Activity Diagrams del caso d'uso \textit{Valuta registrazione utenti}}
    \label{fig:ac_carica_risorsa}
\end{figure}

% =======================
\section{Modello logico dei dati}
La presente sezione descrive il modello logico dei dati adottato nel sistema, che rappresenta l’organizzazione e la struttura concettuale
delle informazioni da gestire.

% =======================
\subsection{Diagramma E/R}
IMMAGINE DIAGRAMMA ER PRIMA RISTRUTTURAZIONE
\begin{figure}[H]
    \centering
    \includegraphics[width=1.1 \textwidth]{./figures/diagramma_er_ristrutturato}
    \caption{Diagramma E/R ristrutturato}
    \label{fig:er_ristrutturato}
\end{figure}

\subsection{Descrizione delle entità}
Descrizione delle entità principali (possiamo rimuoverlo volendo)

% =======================
\section{Architettura logica}
% =======================
Questa sezione presenta l’architettura logica del sistema, ovvero come sono organizzati i principali componenti software e come interagiscono tra loro. L’obiettivo è offrire una panoramica chiara della struttura del progetto, utile per guidare lo sviluppo e facilitare la manutenzione nel tempo.

\subsection{Diagramma UML delle classi - Model}
\begin{figure}[H]
    \centering
    \includegraphics[width=1.1 \textwidth]{./figures/uml_table_model}
    \caption{Class Diagrams UML relative al \textit{Model}}
    \label{fig:uml_table_model}
\end{figure}

\subsection{Diagramma UML delle classi - Control}
\begin{figure}[H]
    \centering
    \includegraphics[width=1.1 \textwidth]{./figures/uml_table_controller}
    \caption{Class Diagrams UML relative al \textit{Controller}}
    \label{fig:uml_table_controller}
\end{figure}

Il diagramma mostra la classe base \texttt{Controller} e tutte le sue sottoclassi organizzate nei seguenti pacchetti:
\begin{lstlisting}[basicstyle=\ttfamily\small,label={lst:lstlisting}]
Controller
├── common
│   ├── AddResourceController
│   ├── DiscoverController
│   ├── EditResourceController
│   ├── ResourceFileController
│   ├── ResourcesController
│   ├── TrackResourcesController
│   └── TracksController
├── admin
│   ├── AdminDashboardController
│   ├── AuthorsController
│   ├── GenresController
│   ├── InstrumentsController
│   ├── RequestsController
│   └── UsersController
├── authenticatedUser
│   ├── AuthenticatedUserDashboardController
│   └── MeController
├── authentication
│   ├── AccountRequestController
│   ├── LoginController
│   └── SessionManager
└── pendingUser
    └── PendingUserDashboardController
\end{lstlisting}

Tutte le classi controller estendono la classe base \texttt{Controller} e implementano l'interfaccia \texttt{Initializable} di JavaFX.

\subsection{Diagramma UML delle classi - Utility ed Exception}
\begin{figure}[H]
    \centering
    \includegraphics[width=1.1 \textwidth]{./figures/uml_table_altri_package}
    \caption{Class Diagrams UML relative a \textit{Utility ed Exception}}
    \label{fig:uml_table_altri_package}
\end{figure}

\subsection{Pattern architetturale}


% =======================
\section{Developing}
% =======================
\subsection{Gestione dell’accesso ai dati (DAO e DAOProvider)}
Il sistema adotta il pattern \textit{Data Access Object} (DAO) per gestire l’accesso ai dati in modo modulare e disaccoppiato dalla logica applicativa.

Per ciascuna entità principale del \textit{Model}, è presente una corrispondente classe DAO che si occupa delle operazioni di persistenza (inserimento, aggiornamento, eliminazione e lettura) più eventuali operazioni specifiche. Ogni DAO implementa un’interfaccia dedicata, garantendo così l’astrazione e la possibilità di eventuali sostituzioni o test unitari.

L’accesso ai DAO all’interno dell’applicazione non avviene in modo diretto, ma è centralizzato attraverso una classe denominata \texttt{DAOProvider}. Questo componente funge da punto di accesso unico (simile a un \textit{factory singleton}) per l’ottenimento delle istanze DAO, garantendo una gestione coerente e facilitando eventuali modifiche future nel meccanismo di creazione o nella logica di accesso ai dati.


\subsection{Design pattern utilizzati}

Il sistema è stato progettato seguendo il pattern architetturale \textit{Model-View-Controller} (MVC), una struttura ampiamente adottata nello sviluppo di interfacce grafiche per separare le responsabilità delle diverse componenti software.

Il pattern MVC suddivide l'applicazione in tre componenti principali:

\begin{itemize}
    \item \textbf{Model}: rappresenta la logica e lo stato dell’applicazione. Contiene i dati, le classi di dominio e la logica di accesso ai dati (DAO), indipendente dalla logica di presentazione.

    \item \textbf{View}: è la parte visiva dell’applicazione, ovvero ciò che l’utente vede e con cui interagisce. In JavaFX, questa è rappresentata dai file \texttt{.fxml}, dai fogli di stile CSS e dai componenti grafici associati.

    \item \textbf{Controller}: gestisce l’interazione tra Model e View. Riceve gli input dell’utente dalla View, elabora le richieste e aggiorna il Model o la View di conseguenza. I controller in JavaFX implementano l’interfaccia \texttt{Initializable} per gestire l’inizializzazione della scena.
\end{itemize}

\skip

L'utilizzo del pattern MVC risulta particolarmente adatto in combinazione con JavaFX, poiché questa libreria supporta nativamente la separazione tra interfaccia grafica (FXML), logica di controllo (Controller) e dati (Model). In questo modo, il codice risulta più modulare, testabile e manutenibile.

\subsection{Diagramma UML delle classi - Utility ed Exception}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.7 \textwidth]{./figures/mvc_template}
    \caption{Pattern MVC}
    \label{fig:mvc_template}
\end{figure}

\subsection{Struttura del progetto}
[Albero dei file principali]


% =======================
\section{Fase di Test}
% =======================
\subsection{JUnit Test}
\subsection{Test degli sviluppatori}

\subsection{Test soggetti esterni}


\end{document}
